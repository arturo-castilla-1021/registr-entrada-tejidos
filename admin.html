<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de Administraci√≥n</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f8f9fa; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #003366; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h2>Informe de Entradas Diario</h2>
    <table>
        <thead>
            <tr>
                <th>Fecha y Hora</th>
                <th>Nombre</th>
                <th>Grupo</th>
                <th>Boleta</th>
                <th>Asunto</th>
            </tr>
        </thead>
        <tbody id="cuerpoTabla"></tbody>
    </table>

<script>
    // USA LAS MISMAS CLAVES QUE EN EL INDEX.HTML
    const firebaseConfig = {
    apiKey: "AIzaSyDQTSoj1urKL0jTpR_1WhJFVaTb4b7dbYY",
    authDomain: "registro-taller-de-tejidos.firebaseapp.com",
    projectId: "registro-taller-de-tejidos",
    storageBucket: "registro-taller-de-tejidos.firebasestorage.app",
    messagingSenderId: "311857854222",
    appId: "1:311857854222:web:ec6083bc0fd64c0b5a495f"
  };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    database.ref('entradas').on('value', (snapshot) => {
        const cuerpo = document.getElementById('cuerpoTabla');
        cuerpo.innerHTML = "";
        snapshot.forEach((childSnapshot) => {
            const d = childSnapshot.val();
            const fila = `<tr>
                <td>${d.momento || 'No registrada'}</td>
                <td>${d.nombre || 'N/A'}</td>
                <td>${d.grupo || 'N/A'}</td>
                <td>${d.boleta || 'N/A'}</td>
                <td>${d.asunto || 'N/A'}</td>
            </tr>`;
            cuerpo.innerHTML = fila + cuerpo.innerHTML; 
        });
    });
</script>
</body>
</html>
